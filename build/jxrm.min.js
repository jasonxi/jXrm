/*! jxrm 2019-10-24 */

!function(){var e,t,n,r;function i(){this.items=[]}"undefined"==typeof Xrm&&(window.Xrm={__namespace:!0}),Xrm,e=function(){var e="[\\x20\\t\\r\\n\\f]",t="(?:\\\\[\\da-fA-F]{1,6}"+e+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",n="\\["+e+"*("+t+")(?:"+e+"*([*^$|!~]?=)"+e+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+e+"*\\]",i=(new RegExp(e+"+","g"),new RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g")),s=(new RegExp("^"+e+"*,"+e+"*"),new RegExp("^"+e+"*([>+~]|"+e+")"+e+"*"),new RegExp(e+"|>"),new RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),new RegExp("^"+t+"$"),{ID:new RegExp("^#("+t+")"),TAG:new RegExp("^%("+t+")"),SECTION:new RegExp("^$("+t+")"),CLASS:new RegExp("^\\.("+t+")"),ATTR:new RegExp("^"+n)});new RegExp("\\\\[\\da-fA-F]{1,6}"+e+"?|\\\\([^\\r\\n\\f])","g");return{parse:function(e,t){var n,r=[];return null!=e&&""!=e&&e.split(",").forEach(function(e){for(var t in e=e.replace(i,""),s)if(n=s[t].exec(e)){r.push({type:t,value:n.shift(),id:n.shift().toLowerCase()});break}}),r}}}(),i.prototype={exec:function(t){if(0===this.items.length||!t)return null;if(1===this.items.length&&t)return t(this.items[0]);if(1<this.items.length&&t){var n={};return this.items.forEach(function(e){n[e.name]=t(e)}),n}},push:function(e){this.items.push(e)},get first(){return 0<this.items.length?this.items[0]:null},get length(){return this.items.length}},t=function(e,s,o){"undefined"==typeof jXrm&&(jXrm={__namespace:!0});return jXrm=function(e,t){return jXrm.fn.init(e,t)},jXrm.fn=jXrm.prototype={version:"0.01",init:function(e,t){var n=this.attributes=new o,r=this.controls=new o,i=s.parse(e);return 0<i.length?i.forEach(function(e){switch(e.type){case"ID":n.push(Xrm.Page.getAttribute(e.id)),r.push(Xrm.Page.getControl(e.id))}}):console.log("Invalid selector."),this.context=null,this}},jXrm.enum={},jXrm}(0,e,i),(n=t).context=function(){return{user:{id:Xrm.Page.context.getUserId().replace(/[{}]/g,"").toLowerCase(),name:Xrm.Page.context.getUserName(),roles:Xrm.Page.context.getUserRoles()}}},function(e,t){t.extend(e.enum,{RequiredLevel:{None:"none",Required:"required",Recommended:"recommended"},SubmitMode:{Always:"always",Never:"never",Dirty:"dirty"}});t.toObject(e.fn,["getType|getAttributeType|a|1","isDirty|getIsDirty|a|1","isPartyList|getIsPartyList|a|1","maxLength|getMaxLength|a|1","setRequiredLevel||c","required|setRequiredLevel|c||required","recommended|setRequiredLevel|c||recommended","getSubmitMode||a|1","setSubmitMode||a","getVisible||c|1","show|setVisible|c||1","hide|setVisible|c||0","parent|getParent|a|1","getPrivilege|getUserPrivilege|a|1","change|addOnChange|a",""]),t.extend(e.fn,{val:function(t,n){return void 0===t?this.attributes.exec(function(e){return e&&e.getValue?e.getValue():null}):(this.attributes.exec(function(e){e&&e.setValue&&e.setValue(t),!0===n&&e.fireOnChange()}),this)},focus:function(){return this.controls.first&&this.controls.first.setFocus&&this.controls.first.setFocus(),this},toggleVisible:function(){return this.controls.exec(function(e){e&&e.setVisible&&e.setVisible(!e.getVsible())}),this},on:function(e,t){}})}(t,{extend:function(e,t){"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n}),Object.assign(e,t)},toObject:function(r,e){return r=r||{},e.forEach(function(e){if(null!==e){var n=e.split("|");n[1]||(n[1]=n[0]),r[n[0]]=function(t){var e="a"===n[2]?r.attributes:r.controls;if(n[4]&&(t=n[4]),e)return n[3]?e.exec(function(e){return e&&e[n[1]]?e[n[1]](t):null}):(e.exec(function(e){e&&e[n[1]]&&e[n[1]](t)}),r)}}}),r}}),r=t,window.jXrm=r}();