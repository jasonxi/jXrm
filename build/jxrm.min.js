/*! jxrm 2019-10-22 */

!function(){var e,t,n,r,i,s;function o(){this.items=[]}"undefined"==typeof Xrm&&(window.Xrm={__namespace:!0}),Xrm,e=function(){var e="[\\x20\\t\\r\\n\\f]",t="(?:\\\\[\\da-fA-F]{1,6}"+e+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",n="\\["+e+"*("+t+")(?:"+e+"*([*^$|!~]?=)"+e+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+e+"*\\]",i=(new RegExp(e+"+","g"),new RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g")),s=(new RegExp("^"+e+"*,"+e+"*"),new RegExp("^"+e+"*([>+~]|"+e+")"+e+"*"),new RegExp(e+"|>"),new RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),new RegExp("^"+t+"$"),{ID:new RegExp("^#("+t+")"),TAG:new RegExp("^%("+t+")"),SECTION:new RegExp("^$("+t+")"),CLASS:new RegExp("^\\.("+t+")"),ATTR:new RegExp("^"+n)});new RegExp("\\\\[\\da-fA-F]{1,6}"+e+"?|\\\\([^\\r\\n\\f])","g");return{parse:function(e,t){var n,r=[];return null!=e&&""!=e&&e.split(",").forEach(function(e){for(var t in e=e.replace(i,""),s)if(n=s[t].exec(e)){r.push({type:t,value:n.shift(),id:n.shift().toLowerCase()});break}}),r}}}(),o.prototype={exec:function(t){this.items.forEach(function(e){t&&t(e)})},push:function(e){this.items.push(e)},get first(){return 0<this.items.length?this.items[0]:null},get length(){return this.items.length}},t=function(e,s,o){"undefined"==typeof jXrm&&(jXrm={__namespace:!0});return jXrm=function(e,t){return jXrm.fn.init(e,t)},jXrm.fn=jXrm.prototype={version:"0.01",init:function(e,t){var n=this.attributes=new o,r=this.controls=new o,i=s.parse(e);return 0<i.length?i.forEach(function(e){switch(e.type){case"ID":n.push(Xrm.Page.getAttribute(e.id)),r.push(Xrm.Page.getControl(e.id))}}):console.log("Invalid selector."),this.context=null,this}},jXrm.enum={},jXrm}(0,e,o),(n=t).context=function(){return{user:{id:Xrm.Page.context.getUserId().replace(/[{}]/g,"").toLowerCase(),name:Xrm.Page.context.getUserName(),roles:Xrm.Page.context.getUserRoles()}}},(i={extend:function(e,t){"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n}),Object.assign(e,t)}}).extend((r=t).enum,{RequiredLevel:{None:"none",Required:"required",Recommended:"recommended"},SubmitMode:{Always:"always",Never:"never",Dirty:"dirty"}}),i.extend(r.fn,{val:function(t){return void 0===t?1===this.attributes.length?this.attributes.first.getValue():this.attributes.items.map(function(e){return e.getValue()}):(this.attributes.exec(function(e){e.setValue(t)}),this)},focus:function(){return this.controls.first.setFocus(),this},setRequiredLevel:function(t){return this.controls.exec(function(e){e.setRequiredLevel(t)}),this},setSubmitMode:function(e){return this.controls.exec(function(e){e.setSubmitMode(level)}),this},show:function(){return this.controls.exec(function(e){e.setVisible(!0)}),this},hide:function(){return this.controls.exec(function(e){e.setVisible(!1)}),this}}),s=t,window.jXrm=s}();